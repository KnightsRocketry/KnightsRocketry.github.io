<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel="icon" type="image/png" href="images/BCO.webp">
    <title>Blog - Knights Rocketry</title>

    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="blog.css">
</head>
<body>
    
    <nav class="navbar">
        <a href="index.html" class="brand">KNIGHTS ROCKETRY</a>
        <div class="nav-links">
            <a href="index.html#about">About</a>
            <a href="index.html#sponsorship">Sponsorship</a>
            <a href="blog.html" class="active">Blog</a>
            <a href="index.html#contact">Contact</a>
        </div>
    </nav>
    
    <div class="main-content">
        <section>
            <h1>Latest Updates</h1>

            <div class="signup-section">
                <h2>Get Notified of New Posts</h2>
                <p>Enter your name and email below to get an update when a new blog post drops!</p>
                <form id="subscribe-form">
                    <div class="signup-form">
                        <input type="text" name="name" placeholder="Your Name" required>
                        <input type="email" name="email" placeholder="Your Email Address" required>
                        <button type="submit">Subscribe</button>
                    </div>
                    <div id="form-status"></div>
                    <!-- NEW: Spam folder note -->
                    <p class="spam-note">If you don't receive emails, please check your spam or junk folder.</p>
                </form>
            </div>
            
             <a href="posts/first-rocket/first-rocket.html" class="blog-post-link">
                <div class="blog-post">
                    <h2>Our First Rocket: Nebula One</h2>
                    <span class="date">July 25, 2025</span>
                    <p>The build is complete! Our first-ever rocket, the Nebula One, was built from a "Big Bertha" model and is ready for its maiden launch on July 26th at the DARS Gunter field.</p>
                    <span class="read-more">Click to read more...</span>
                </div>
            </a>
            
            <a href="posts/website-launched.html" class="blog-post-link">
                <div class="blog-post">
                    <h2>Our Website Launched!</h2>
                    <span class="date">July 17, 2025</span>
                    <p>We launched our Knights Rocketry website today! This will be the central hub for all our updates, progress, and sponsorship information as we journey through the American Rocketry Challenge.</p>
                    <!-- NEW: "Read more" link -->
                    <span class="read-more">Click to read more...</span>
                </div>
            </a>


        </section>
    </div>

    <footer id='contact'>
        <h2>Contact & Support</h2>
        <p style='max-width:600px; margin: 0 auto 30px auto;'>Have questions or want to become a sponsor? Reach out to us directly.</p>
        <div id='contact-info'>
            <p><strong>Email:</strong> <a href='mailto:arcknightsrocketry@gmail.com'>arcknightsrocketry@gmail.com</a></p>
            <p><strong>Website:</strong> <a href='https://knightsrocketry.github.io' target='_blank'>knightsrocketry.github.io</a></p>
        </div>
        <p style='margin-top: 40px; color: #888;'>Â© 2025 Knights Rocketry. All Rights Reserved.</p>
    </footer>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycby8UtlJz2yl3mVWNLdgwqezLXVIBkBZYjPaNZihCG8tU8X8rgwuNvK-xz3dr-PltZ7rHw/exec'; // IMPORTANT: Use your same Web App URL
        const form = document.getElementById('subscribe-form');
        const statusDiv = document.getElementById('form-status');
        const submitButton = form.querySelector('button');

        form.addEventListener('submit', e => {
            e.preventDefault();
            statusDiv.textContent = 'Subscribing...';
            submitButton.disabled = true;

            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => response.json())
                .then(data => {
                    if (data.result === 'success') {
                        statusDiv.textContent = 'Thanks for subscribing!';
                        form.reset();
                    } else {
                        throw new Error('Form submission failed');
                    }
                })
                .catch(error => {
                    console.error('Error!', error.message);
                    statusDiv.textContent = 'Oops! Something went wrong.';
                })
                .finally(() => {
                    submitButton.disabled = false;
                    setTimeout(() => { statusDiv.textContent = ''; }, 5000); // Clear message after 5 seconds
                });
        });
    </script>

</body>
</html>
