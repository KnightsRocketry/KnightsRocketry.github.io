<footer id="contact">
  <h2>Contact Us</h2>
  <div class="contact-form-section">
    <p style="text-align:center; max-width:600px; margin: 0 auto 30px auto;">
      Have questions or want to become a sponsor? Fill out the form below to
      send us an email directly.
    </p>
    <form id="contact-form">
      <input type="text" name="name" placeholder="Your Name" required />
      <input
        type="email"
        name="email"
        placeholder="Your Email Address"
        required
      />
      <textarea name="message" rows="5" placeholder="Your Message" required
      ></textarea>
      <button type="submit">Send Message</button>
      <div id="contact-form-status"></div>
    </form>
  </div>

  <!-- Your original footer info is preserved below the form -->
  <div id="contact-info" style="margin-top: 40px;">
    <p>Or reach out directly:</p>
    <p>
      <strong>Email:</strong>
      <a href="mailto:arcknightsrocketry@gmail.com"
        >arcknightsrocketry@gmail.com</a
      >
    </p>
    <p>
      <strong>Website:</strong>
      <a href="https://knightsrocketry.github.io" target="_blank"
        >knightsrocketry.github.io</a
      >
    </p>
  </div>

  <p style="margin-top: 40px; color: #888;">
    Â© 2025 Knights Rocketry. All Rights Reserved.
  </p>

  <script>
    const contactForm = document.getElementById("contact-form");
    if (contactForm) {
      const contactStatus = document.getElementById("contact-form-status");
      const contactButton = contactForm.querySelector("button");

      const contactScriptURL =
        "https://script.google.com/macros/s/AKfycby9tr2SgcIN-ulmPTy0TPEfpvLYk7d0xJVPgA8NHYroHsitcaDbhVoU9uNVd7fttP10/exec";

      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();
        contactStatus.textContent = "Sending...";
        contactButton.disabled = true;

        fetch(contactScriptURL, {
          method: "POST",
          body: new FormData(contactForm),
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.result === "success") {
              contactStatus.textContent = "Message Sent! Thank you.";
              contactForm.reset();
            } else {
              throw new Error("Form submission failed");
            }
          })
          .catch((error) => {
            console.error("Error!", error.message);
            contactStatus.textContent =
              "Oops! Something went wrong. Please try again.";
          })
          .finally(() => {
            contactButton.disabled = false;
            setTimeout(() => {
              contactStatus.textContent = "";
            }, 6000);
          });
      });
    }
  </script>
</footer>

<style>
  footer {
    background-color: var(--black);
    text-align: center;
    padding: 40px 20px;
    border-top: 1px solid #333;
  }

  #contact-info a {
    color: var(--light-lavender);
    text-decoration: none;
    transition: color 0.3s;
  }

  #contact-info a:hover {
    color: var(--purpleglow);
  }

  #contact-info a {
    color: var(--light-lavender);
    text-decoration: none;
    transition: color 0.3s;
  }

  #contact-info a:hover {
    color: var(--purpleglow);
  }

  .contact-form-section {
    background-color: #1a1a1a;
    padding: 40px 30px;
    border-radius: 10px;
  }

  #contact-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 600px;
    margin: 0 auto;
  }

  #contact-form input,
  #contact-form textarea {
    padding: 15px;
    border-radius: 5px;
    border: 1px solid #444;
    background-color: #222;
    color: var(--white);
    font-size: 1rem;
    font-family: inherit;
  }

  #contact-form button {
    padding: 15px;
    border: none;
    border-radius: 5px;
    background-color: var(--deep-purple);
    color: var(--white);
    font-size: 1.2rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  #contact-form button:hover {
    background-color: var(--light-lavender);
    color: var(--deep-purple);
  }

  #contact-form-status {
    margin-top: 15px;
    color: var(--light-purple);
    font-weight: 500;
    min-height: 20px;
    text-align: center;
  }
</style>
